<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Funny Reels for You</title>
    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="styles.css">
    <link href="https://fonts.googleapis.com/css2?family=Dancing+Script:wght@700&family=Great+Vibes&family=Poppins:wght@300;400;600&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        .video-container {
            max-width: 600px;
            margin: 0 auto;
            position: relative;
        }
        
        .video-player {
            width: 100%;
            max-height: 80vh;
            border-radius: 15px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
            background: #000;
        }
        
        .video-counter {
            text-align: center;
            margin-top: 15px;
            color: #5a3e36;
            font-size: 1.1rem;
        }
        
        .video-controls {
            display: flex;
            justify-content: center;
            gap: 15px;
            margin-top: 20px;
        }
        
        .nav-btn {
            padding: 12px 25px;
            background: linear-gradient(to right, #ff6b6b, #ff8e8e);
            color: white;
            border: none;
            border-radius: 50px;
            font-size: 1rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 3px 10px rgba(0, 0, 0, 0.2);
            display: inline-flex;
            align-items: center;
            gap: 8px;
        }
        
        #continueBtn {
            background: linear-gradient(to right, #ff9a9e, #fad0c4);
        }
        
        #continueBtn:hover:not(:disabled) {
            background: linear-gradient(to right, #ff8a8e, #f9bfc9);
        }
        
        .nav-btn:hover:not(:disabled) {
            transform: translateY(-3px);
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
            background: linear-gradient(to right, #ff5252, #ff7b7b);
        }
        
        .nav-btn:disabled {
            opacity: 0.5;
            cursor: not-allowed;
        }
        
        .nav-btn i {
            font-size: 1.1rem;
        }
        
        .apology-message {
            display: none;
            text-align: center;
            padding: 40px;
            background: rgba(255, 255, 255, 0.95);
            border-radius: 20px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
            margin-top: 30px;
        }
        
        .apology-message h2 {
            font-family: 'Great Vibes', cursive;
            font-size: 3rem;
            color: #d81b60;
            margin-bottom: 20px;
        }
        
        .apology-message p {
            font-size: 1.3rem;
            color: #5a3e36;
            line-height: 1.8;
            margin-bottom: 30px;
        }
        
        .instagram-btn {
            display: inline-flex;
            align-items: center;
            gap: 10px;
            padding: 15px 30px;
            background: linear-gradient(45deg, #f09433 0%, #e6683c 25%, #dc2743 50%, #cc2366 75%, #bc1888 100%);
            color: white;
            border: none;
            border-radius: 50px;
            font-size: 1.2rem;
            font-weight: 600;
            text-decoration: none;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
        }
        
        .instagram-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 8px 20px rgba(0, 0, 0, 0.4);
            color: white;
            text-decoration: none;
        }
        
        .instagram-btn i {
            font-size: 1.5rem;
        }
    </style>
</head>
<body>
    <div class="stars"></div>
    <div class="hearts-container">
        <div class="heart">‚ù§Ô∏è</div>
        <div class="heart">üíñ</div>
        <div class="heart">üíó</div>
        <div class="heart">üíì</div>
    </div>
    
    <!-- Flower animation container -->
    <div class="flower-container" id="flowerContainer"></div>
    
    <header class="text-center py-5">
        <h1 class="main-title">Funny Reels for You</h1>
    </header>
    
    <main class="container my-5">
        <div class="row g-4">
            <div class="col-12">
                <section class="photo-gallery card shadow-lg p-4">
                    <div class="video-container">
                        <video id="reelVideo" class="video-player" controls autoplay></video>
                        <div class="video-counter" id="videoCounter"></div>
                        <div class="video-controls">
                            <button id="prevBtn" class="nav-btn">
                                <i class="fas fa-chevron-left"></i>
                                Previous
                            </button>
                            <button id="nextBtn" class="nav-btn">
                                Next
                                <i class="fas fa-chevron-right"></i>
                            </button>
                            <button id="downloadBtn" class="nav-btn">
                                <i class="fas fa-download"></i>
                                Download
                            </button>
                            <button id="continueBtn" class="nav-btn" style="display: none;">
                                Continue
                                <i class="fas fa-arrow-right"></i>
                            </button>
                        </div>
                    </div>
                    
                    <div class="apology-message" id="apologyMessage">
                        <h2>My Love</h2>
                        <p>I'm sorry for blocking you bby, I've missed sending you reels. Please follow me back on Instagram.</p>
                        <div style="display: flex; flex-direction: column; align-items: center; gap: 15px; margin-top: 30px;">
                            <a href="https://www.instagram.com/buikemm_?igsh=MXR4dWg1Y3gzNjN2NA%3D%3D&utm_source=qr" target="_blank" class="instagram-btn">
                                <i class="fab fa-instagram"></i>
                                Follow Me on Instagram
                            </a>
                            <a href="promises.html" class="btn love-btn btn-lg">
                                Continue Our Journey
                            </a>
                        </div>
                    </div>
                </section>
            </div>
        </div>
    </main>
    
    <footer class="text-center py-4">
        <p class="mb-1">Made with all my love for you üíï</p>
        <p class="footer-note mb-0">Forever and always, yours completely</p>
    </footer>
    
    <!-- Bootstrap JS -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js"></script>
    <script>
        // List of all video files (updated to match actual files in reels folder)
        const videoFiles = [
            'reels/WhatsApp Video 2025-11-22 at 11.58.36_a79f4841.mp4',
            'reels/WhatsApp Video 2025-11-22 at 11.58.51_43cf52c7.mp4',
            'reels/WhatsApp Video 2025-11-22 at 11.58.52_41e9b628.mp4',
            'reels/WhatsApp Video 2025-11-22 at 11.58.59_ab648b64.mp4',
            'reels/WhatsApp Video 2025-11-22 at 11.59.06_63fe9c29.mp4',
            'reels/WhatsApp Video 2025-11-22 at 11.59.25_6c188d17.mp4',
            'reels/WhatsApp Video 2025-11-22 at 11.59.32_facd733f.mp4',
            'reels/WhatsApp Video 2025-11-22 at 12.15.13_85323db0.mp4',
            'reels/WhatsApp Video 2025-11-22 at 12.15.18_ca7438a1.mp4',
            'reels/WhatsApp Video 2025-11-22 at 12.15.35_e599cbf6.mp4',
            'reels/WhatsApp Video 2025-11-22 at 12.15.38_dd716126.mp4',
            'reels/WhatsApp Video 2025-11-22 at 12.16.37_f12d9517.mp4',
            'reels/WhatsApp Video 2025-11-22 at 12.16.42_4fe5fe5e.mp4',
            'reels/WhatsApp Video 2025-11-22 at 12.16.46_5b3eb8bb.mp4',
            'reels/WhatsApp Video 2025-11-22 at 12.16.52_dcec332c.mp4',
            'reels/WhatsApp Video 2025-11-22 at 12.16.56_4ac56ac7.mp4',
            'reels/WhatsApp Video 2025-11-22 at 12.16.58_99699e00.mp4',
            'reels/WhatsApp Video 2025-11-22 at 12.17.04_3cc776e7.mp4',
            'reels/WhatsApp Video 2025-11-22 at 12.17.08_b8431da8.mp4',
            'reels/WhatsApp Video 2025-11-22 at 12.17.13_c09ca96e.mp4',
            'reels/WhatsApp Video 2025-11-22 at 12.17.14_8eaa5a6c.mp4',
            'reels/WhatsApp Video 2025-11-22 at 12.17.16_96580bfb.mp4',
            'reels/WhatsApp Video 2025-11-22 at 12.17.17_74cac53a.mp4',
            'reels/WhatsApp Video 2025-11-22 at 12.56.12_aa390c17.mp4',
            'reels/WhatsApp Video 2025-11-22 at 16.01.51_17fc7d88.mp4',
            'reels/WhatsApp Video 2025-11-22 at 16.04.38_068c68ff.mp4',
            'reels/WhatsApp Video 2025-11-22 at 16.04.38_fd4e6dfa.mp4'
        ];
        
        let currentVideoIndex = 0;
        const videoElement = document.getElementById('reelVideo');
        const videoCounter = document.getElementById('videoCounter');
        const apologyMessage = document.getElementById('apologyMessage');
        const prevBtn = document.getElementById('prevBtn');
        const nextBtn = document.getElementById('nextBtn');
        const continueBtn = document.getElementById('continueBtn');
        const downloadBtn = document.getElementById('downloadBtn');
        const videoContainer = document.querySelector('.video-container');
        
        // Function to show apology message
        function showApologyMessage() {
            if (videoContainer) videoContainer.style.display = 'none';
            if (apologyMessage) apologyMessage.style.display = 'block';
            // Scroll to message smoothly
            apologyMessage.scrollIntoView({ behavior: 'smooth', block: 'center' });
        }
        
        // Function to update button states
        function updateButtonStates() {
            const isLastVideo = currentVideoIndex === videoFiles.length - 1;
            prevBtn.disabled = currentVideoIndex === 0;
            
            if (isLastVideo) {
                // Hide Next button, show Continue button
                nextBtn.style.display = 'none';
                continueBtn.style.display = 'inline-flex';
            } else {
                // Show Next button, hide Continue button
                nextBtn.style.display = 'inline-flex';
                continueBtn.style.display = 'none';
            }
        }
        
        // Function to download current video
        function downloadCurrentVideo() {
            const currentVideoPath = videoFiles[currentVideoIndex];
            const link = document.createElement('a');
            link.href = currentVideoPath;
            // Extract filename from path
            const fileName = currentVideoPath.split('/').pop();
            link.download = fileName;
            document.body.appendChild(link);
            link.click();
            document.body.removeChild(link);
        }
        
        // Function to load and play video
        function loadVideo(index, autoPlay = true) {
            if (index < 0 || index >= videoFiles.length) {
                return;
            }
            
            currentVideoIndex = index;
            
            // Encode the file path properly for URL
            const path = videoFiles[index];
            // Replace spaces with %20 for URL compatibility
            const encodedPath = path.replace(/ /g, '%20');
            videoElement.src = encodedPath;
            videoCounter.textContent = `Reel ${index + 1} of ${videoFiles.length}`;
            
            // Update button states
            updateButtonStates();
            
            // Show video container, hide apology message
            if (videoContainer) videoContainer.style.display = 'block';
            if (apologyMessage) apologyMessage.style.display = 'none';
            
            // When video ends, auto-play next one (but don't auto-show message on last video)
            videoElement.onended = function() {
                if (currentVideoIndex < videoFiles.length - 1) {
                    currentVideoIndex++;
                    loadVideo(currentVideoIndex, true);
                }
                // On last video, just stop - user clicks Continue button manually
            };
            
            // Auto-play if requested
            if (autoPlay) {
                videoElement.play().catch(function(error) {
                    console.log('Auto-play prevented:', error);
                });
            }
        }
        
        // Previous button event
        prevBtn.addEventListener('click', function() {
            if (currentVideoIndex > 0) {
                loadVideo(currentVideoIndex - 1, true);
            }
        });
        
        // Next button event
        nextBtn.addEventListener('click', function() {
            if (currentVideoIndex < videoFiles.length - 1) {
                loadVideo(currentVideoIndex + 1, true);
            }
        });
        
        // Download button event
        downloadBtn.addEventListener('click', function() {
            downloadCurrentVideo();
        });
        
        // Continue button event - manually triggers Instagram message
        continueBtn.addEventListener('click', function() {
            showApologyMessage();
        });
        
        // Start playing first video
        loadVideo(0);
        
        // Handle video errors
        videoElement.onerror = function() {
            console.log('Error loading video, trying next...');
            if (currentVideoIndex < videoFiles.length - 1) {
                currentVideoIndex++;
                loadVideo(currentVideoIndex, true);
            } else {
                showApologyMessage();
            }
        };
    </script>
</body>
</html>
